@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --cell-width: 135px;
  --cell-height: 68px;
}

body {
  font-family: Arial, Helvetica, sans-serif;
  @apply bg-background text-text;
}

.hexagon {
  clip-path: polygon(25% 5%, 75% 5%, 100% 50%, 75% 95%, 25% 95%, 0% 50%);
}

.hex-table {
  clip-path: polygon(25% 5%, 75% 5%, 100% 50%, 75% 95%, 25% 95%, 0% 50%);
  background: radial-gradient(circle at center, #8b1a1a 0%, #5a0d0d 80%);
  border: 4px solid #b22222;
}

.player-avatar {
  @apply w-12 h-12 rounded-full border border-yellow-400;
}

.starry-bg {
  background-color: #000;
  background-image:
    radial-gradient(#ffffff 1px, transparent 1px),
    radial-gradient(#ffffff 1px, transparent 1px);
  background-position:
    0 0,
    25px 25px;
  background-size: 50px 50px;
}

.board-3d {
  perspective: 800px;
}

.board-3d-grid {
  transform: rotateX(30deg) rotateZ(45deg);
  transform-style: preserve-3d;
}

.board-frame {
  @apply border-4 border-accent rounded-lg p-1 bg-surface;
  transform-style: preserve-3d;
}

@keyframes roll {
  0% {
    transform: rotateX(0deg) rotateY(0deg) rotateZ(0deg) translateY(0);
  }
  50% {
    transform: rotateX(360deg) rotateY(360deg) rotateZ(360deg) translateY(-1rem);
  }
  100% {
    transform: rotateX(720deg) rotateY(720deg) rotateZ(720deg) translateY(0);
  }
}

.animate-roll {
  animation: roll 1s ease-in-out;
}

.dice-container {
  perspective: 600px;
}

.dice-cube {
  /* smaller cube so a board cell can match its size */
  @apply relative w-16 h-16;
  transform-style: preserve-3d;
  transition: transform 0.5s;
}

.dice-face {
  @apply absolute w-full h-full flex items-center justify-center bg-white rounded-xl shadow-lg;
}

.dice-face .dot {
  /* classic black pips */
  @apply w-4 h-4 bg-black rounded-full;
}

.dice-face--front {
  transform: rotateY(0deg) translateZ(2rem);
}
.dice-face--back {
  transform: rotateY(180deg) translateZ(2rem);
}
.dice-face--right {
  transform: rotateY(90deg) translateZ(2rem);
}
.dice-face--left {
  transform: rotateY(-90deg) translateZ(2rem);
}
.dice-face--top {
  transform: rotateX(90deg) translateZ(2rem);
}
.dice-face--bottom {
  transform: rotateX(-90deg) translateZ(2rem);
}

.board-cell {
  @apply relative flex items-center justify-center rounded-xl text-text shadow-inner bg-surface border-2 border-accent;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5); /* subtle outer depth */
  transform: translateZ(5px);
  width: var(--cell-width);
  height: var(--cell-height);
}

.board-cell::after {
  content: "";
  position: absolute;
  inset: 2px;
  border-radius: inherit;
  box-shadow: 0 0 8px rgba(250, 204, 21, 0.5);
  transform: translateZ(-1px);
}

.token {
  @apply absolute w-16 h-16 rounded-full shadow-lg object-cover;
  transform: translateZ(10px);
}

/* cell glows briefly as a piece moves over it */
.board-cell.highlight {
  box-shadow: 0 0 10px 4px rgba(250, 204, 21, 0.8);
}

.pot-cell {
  @apply absolute flex flex-col items-center justify-center hexagon bg-primary text-background border-2 border-accent;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5);
  width: calc(var(--cell-width) * 1.5);
  height: calc(var(--cell-height) * 1.5);
  top: calc(var(--cell-height) * -0.75);
  left: 50%;
  transform: translateX(-50%);
}

.pot-cell.highlight {
  box-shadow: 0 0 10px 4px rgba(250, 204, 21, 0.8);
}
